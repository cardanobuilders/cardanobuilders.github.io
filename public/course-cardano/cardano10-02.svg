<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 500" font-family="Arial, sans-serif">
  <!-- Background -->
  <rect width="800" height="500" fill="#FFFFFF"/>

  <!-- Title -->
  <text x="400" y="38" text-anchor="middle" font-size="22" font-weight="bold" fill="#333333">Transaction Sponsorship: Zero-Fee User Experience</text>

  <!-- Step number circles -->
  <circle cx="105" cy="95" r="18" fill="#FFCC80" stroke="#FF9800" stroke-width="2"/>
  <text x="105" y="101" text-anchor="middle" font-size="14" font-weight="bold" fill="#E65100">1</text>

  <circle cx="400" cy="95" r="18" fill="#CE93D8" stroke="#AB47BC" stroke-width="2"/>
  <text x="400" y="101" text-anchor="middle" font-size="14" font-weight="bold" fill="#6A1B9A">2</text>

  <circle cx="695" cy="95" r="18" fill="#A5D6A7" stroke="#66BB6A" stroke-width="2"/>
  <text x="695" y="101" text-anchor="middle" font-size="14" font-weight="bold" fill="#1B5E20">3</text>

  <!-- === STEP 1: Build Tx === -->
  <rect x="30" y="125" width="150" height="170" rx="16" fill="#FFF3E0" stroke="#FFCC80" stroke-width="2"/>
  <!-- User icon -->
  <circle cx="105" cy="170" r="26" fill="#FFCC80"/>
  <circle cx="105" cy="161" r="9" fill="#E65100"/>
  <path d="M89,184 Q89,173 105,173 Q121,173 121,184" fill="#E65100"/>
  <text x="105" y="216" text-anchor="middle" font-size="15" font-weight="bold" fill="#BF360C">Build Tx</text>
  <text x="105" y="234" text-anchor="middle" font-size="10" fill="#E65100">With placeholder UTXO</text>
  <text x="105" y="248" text-anchor="middle" font-size="10" fill="#E65100">(no ADA needed)</text>
  <text x="105" y="282" text-anchor="middle" font-size="12" fill="#999">User</text>

  <!-- Arrow 1 -->
  <line x1="184" y1="205" x2="310" y2="205" stroke="#AB47BC" stroke-width="2.5" marker-end="url(#arrowPurple)"/>
  <rect x="205" y="212" width="100" height="36" rx="8" fill="#FFFFFF" stroke="#CE93D8" stroke-width="1"/>
  <text x="255" y="227" text-anchor="middle" font-size="11" fill="#6A1B9A">POST</text>
  <text x="255" y="242" text-anchor="middle" font-size="11" fill="#6A1B9A">/api/sponsor</text>

  <!-- === STEP 2: Sponsor === -->
  <rect x="315" y="125" width="170" height="170" rx="16" fill="#F3E5F5" stroke="#CE93D8" stroke-width="2"/>
  <!-- Server icon -->
  <rect x="375" y="150" width="40" height="48" rx="6" fill="#CE93D8"/>
  <rect x="381" y="156" width="28" height="5" rx="2" fill="#FFFFFF"/>
  <rect x="381" y="165" width="28" height="5" rx="2" fill="#FFFFFF"/>
  <rect x="381" y="174" width="28" height="5" rx="2" fill="#FFFFFF"/>
  <circle cx="395" cy="190" r="3" fill="#66BB6A"/>
  <text x="400" y="220" text-anchor="middle" font-size="15" font-weight="bold" fill="#6A1B9A">Sponsor</text>
  <text x="400" y="238" text-anchor="middle" font-size="10" fill="#8E24AA">Swap UTXO + Sign</text>
  <text x="400" y="252" text-anchor="middle" font-size="10" fill="#8E24AA">Add fee coverage</text>
  <text x="400" y="282" text-anchor="middle" font-size="12" fill="#999">Server</text>

  <!-- Arrow 2 -->
  <line x1="489" y1="205" x2="615" y2="205" stroke="#66BB6A" stroke-width="2.5" marker-end="url(#arrowGreen)"/>
  <rect x="505" y="212" width="100" height="36" rx="8" fill="#FFFFFF" stroke="#A5D6A7" stroke-width="1"/>
  <text x="555" y="227" text-anchor="middle" font-size="11" fill="#2E7D32">Return</text>
  <text x="555" y="242" text-anchor="middle" font-size="11" fill="#2E7D32">sponsored tx</text>

  <!-- === STEP 3: Co-sign + Submit === -->
  <rect x="620" y="125" width="150" height="170" rx="16" fill="#E8F5E9" stroke="#A5D6A7" stroke-width="2"/>
  <!-- User icon -->
  <circle cx="695" cy="170" r="26" fill="#A5D6A7"/>
  <circle cx="695" cy="161" r="9" fill="#2E7D32"/>
  <path d="M679,184 Q679,173 695,173 Q711,173 711,184" fill="#2E7D32"/>
  <text x="695" y="216" text-anchor="middle" font-size="13" font-weight="bold" fill="#1B5E20">Co-sign + Submit</text>
  <text x="695" y="234" text-anchor="middle" font-size="10" fill="#388E3C">User pays $0 fees</text>
  <text x="695" y="248" text-anchor="middle" font-size="10" fill="#388E3C">Signs with own key</text>
  <text x="695" y="282" text-anchor="middle" font-size="12" fill="#999">User</text>

  <!-- Arrow to Blockchain -->
  <line x1="695" y1="300" x2="695" y2="345" stroke="#42A5F5" stroke-width="2.5" marker-end="url(#arrowBlueDown)"/>

  <!-- Blockchain box -->
  <rect x="618" y="350" width="155" height="44" rx="12" fill="#E3F2FD" stroke="#90CAF9" stroke-width="1.5"/>
  <text x="695" y="378" text-anchor="middle" font-size="15" fill="#1565C0">Blockchain</text>

  <!-- Bottom Badge -->
  <rect x="90" y="430" width="420" height="44" rx="14" fill="#FFF3E0" stroke="#FFCC80" stroke-width="2"/>
  <text x="300" y="458" text-anchor="middle" font-size="15" font-weight="bold" fill="#E65100">Developer covers all network fees</text>

  <!-- Arrow Markers -->
  <defs>
    <marker id="arrowPurple" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#AB47BC"/>
    </marker>
    <marker id="arrowGreen" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#66BB6A"/>
    </marker>
    <marker id="arrowBlueDown" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#42A5F5"/>
    </marker>
  </defs>
</svg>