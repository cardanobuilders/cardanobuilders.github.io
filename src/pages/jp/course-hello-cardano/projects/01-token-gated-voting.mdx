---
title: トークンゲート投票
description: Aikenスマートコントラクトとmesh SDKを使用して、ガバナンストークン保有者のみが投票できるCardano上の投票システムを構築します。
asIndexPage: true
sidebarTitle: 1. トークンゲート投票
---

# プロジェクト #01: トークンゲート投票

**難易度:** 中級 | **レッスン:** 1–6

特定のガバナンストークンの保有者のみが提案に投票できる投票システムを構築します。

## 要件

### 1. ガバナンストークンのMintingポリシー

指定された管理者が単一のポリシーIDの下でガバナンストークンを固定供給量でMintできるAiken Mintingバリデータを作成します。

### 2. 投票バリデータ

以下の機能を持つAiken Spendingバリデータを作成します:
- 投票（賛成/反対）をRedeemerとして受け取る
- トランザクションの入力に少なくとも1つのガバナンストークンが含まれていることを検証する
- 投票結果をDatumに保存する（賛成票の合計、反対票の合計）
- 提案ごとに一意の投票者署名を要求することで二重投票を防止する

### 3. コントラクトテスト

`aiken check` を使用して、以下をカバーするテストケースを作成します:
- ガバナンストークンを使用した投票の成功
- ガバナンストークンなしでの投票の拒否
- 同一キーからの二重投票の拒否

### 4. オフチェーンコード

Mesh SDKを使用して:
- Plutus blueprintを解釈してTypeScript型を生成する
- 提案の作成、投票の実行、結果の読み取りを行うトランザクションを構築する
- preprodでフルフローを実演する実行可能なスクリプトを提供する

## 実証されるスキル

- ウォレットのセットアップとトランザクション構築（レッスン1）
- Native/Plutusスクリプトによるトークンのミント（レッスン2–3）
- Aikenバリデータの開発（レッスン3）
- mocktailによるコントラクトテスト（レッスン4）
- Blueprintの解釈とオフチェーンコード（レッスン6）
